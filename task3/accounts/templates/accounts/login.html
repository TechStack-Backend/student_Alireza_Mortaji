<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login | Your Django App</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/login.css' %}">
</head>

<body>
    <div class="login-container">
        <div class="login-card">
            <div class="card-header">
                <div class="logo">
                    <div class="logo-icon">üîê</div>
                </div>
                <h1 class="login-title">Welcome Back</h1>
                <p class="login-subtitle">Sign in to your account to continue</p>
            </div>

            {% if form.errors %}
            <div class="alert alert-error">
                <div class="alert-icon">‚ö†Ô∏è</div>
                <div class="alert-content">
                    <strong>Invalid credentials!</strong> Please check your username and password.
                </div>
            </div>
            {% endif %}

            {% if next %}
            {% if user.is_authenticated %}
            <div class="alert alert-warning">
                <div class="alert-icon">üîí</div>
                <div class="alert-content">
                    Your account doesn't have access to this page. To proceed, please login with an account that has
                    access.
                </div>
            </div>
            {% else %}
            <div class="alert alert-info">
                <div class="alert-icon">‚ÑπÔ∏è</div>
                <div class="alert-content">
                    Please login to see this page.
                </div>
            </div>
            {% endif %}
            {% endif %}

            <form method="POST" class="login-form">
                {% csrf_token %}
                <input type="hidden" name="next" value="{{ next }}">

                <div class="form-group">
                    <label for="id_username" class="form-label">Username or Email</label>
                    <div class="input-container">
                        {{ form.username }}
                        <span class="input-icon">üë§</span>
                    </div>
                </div>

                <div class="form-group">
                    <div class="password-header">
                        <label for="id_password" class="form-label">Password</label>
                    </div>
                    <div class="input-container">
                        {{ form.password }}
                        <span class="input-icon">üîí</span>
                    </div>
                </div>

                <div class="form-options">
                    <label class="checkbox-container">
                        <input type="checkbox" name="remember_me">
                        <span class="checkmark"></span>
                        Remember me for 30 days
                    </label>
                </div>

                <button type="submit" class="btn-login">
                    <span class="btn-text">Sign In</span>
                    <span class="btn-icon">‚Üí</span>
                </button>
            </form>

            <div class="divider">
                <span>Or continue with</span>
            </div>


            <div class="register-link">
                <p>Don't have an account? <a href="{% url 'register' %}" class="register-link-text">Create account</a>
                </p>
            </div>
        </div>

        <div class="background-shapes">
            <div class="shape shape-1"></div>
            <div class="shape shape-2"></div>
            <div class="shape shape-3"></div>
        </div>
    </div>

    <script>
        // Add classes to form inputs for styling
        document.addEventListener('DOMContentLoaded', function () {
            const usernameInput = document.getElementById('id_username');
            const passwordInput = document.getElementById('id_password');

            if (usernameInput) {
                usernameInput.classList.add('form-input');
                usernameInput.placeholder = 'Enter your username or email';
            }

            if (passwordInput) {
                passwordInput.classList.add('form-input');
                passwordInput.placeholder = 'Enter your password';
            }

            // Add focus effects
            const inputs = document.querySelectorAll('.form-input');
            inputs.forEach(input => {
                input.addEventListener('focus', function () {
                    this.parentElement.classList.add('focused');
                });

                input.addEventListener('blur', function () {
                    if (!this.value) {
                        this.parentElement.classList.remove('focused');
                    }
                });
            });
        });
    </script>
</body>

</html>